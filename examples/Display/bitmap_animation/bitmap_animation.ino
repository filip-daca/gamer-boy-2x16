#include <GamerBoy2x16.h>

#define DELAY 70

GamerBoy2x16 gb = GamerBoy2x16();

word frames_cow[10][20] = {
  {0x3ffff,0x3ffff,0x3e87f,0x3c13f,0x381bf,0x3e03f,0x3c73f,0x3cfff,0x3cfff,0x38c7f,0x3b07f,0x3b07f,0x3b07f,0x300df,0x3073f,0x3cebf,0x3fc3f,0x3fcbf,0x3ffdf,0x3ffff},
  {0x3ffff,0x3ffff,0x3c8ff,0x2837f,0x2017f,0x3c07f,0x3c67f,0x39f7f,0x39f7f,0x388ff,0x3a0ff,0x3f0ff,0x3e0ff,0x281bf,0x2067f,0x39d7f,0x3f87f,0x3f97f,0x3ffbf,0x3ffff},
  {0x3ffff,0x3ffff,0x389ff,0x20cff,0x204ff,0x300ff,0x31dff,0x33dff,0x37dff,0x331ff,0x360ff,0x360ff,0x3e0ff,0x281bf,0x28e7f,0x33d7f,0x3f87f,0x3f97f,0x3ffbf,0x3ffff},
  {0x3ffff,0x3ffff,0x3883f,0x3e0df,0x3e05f,0x3f01f,0x3e39f,0x3e7df,0x3e7ef,0x3f10f,0x3f60f,0x3f70f,0x3f307,0x3f087,0x3f1af,0x3ff0f,0x3ff2f,0x3fff7,0x3ffff,0x3ffff},
  {0x3ffff,0x3ffff,0x3881f,0x3e04f,0x3f06f,0x3f00f,0x3f1cf,0x3f3ef,0x3f3ef,0x3f187,0x3f307,0x3fb07,0x3fb67,0x3f873,0x3f0d7,0x3ff87,0x3ff97,0x3ff9b,0x3ffff,0x3ffff},
  {0x3ffff,0x3ffff,0x3bc0f,0x3e027,0x3f837,0x3fc07,0x3f8e7,0x3f9f7,0x3f9f7,0x3f887,0x3f907,0x3ff83,0x3ff1f,0x3fc0d,0x3f02b,0x3fcc3,0x3ffcb,0x3ffcd,0x3ffff,0x3ffff},
  {0x3ffff,0x3ffff,0x3bc0f,0x3e027,0x3f837,0x3fc07,0x3f8e7,0x3f9f7,0x3f3f7,0x3f187,0x3f307,0x3fb07,0x3fb1f,0x3f81d,0x3e06b,0x3f9c3,0x3ffcb,0x3fffd,0x3ffff,0x3ffff},
  {0x3ffff,0x3ffff,0x3fc0f,0x3f027,0x3f837,0x3fc07,0x3f8e7,0x3f9f7,0x3fbf7,0x3f187,0x3f307,0x3f707,0x3f61f,0x3f01b,0x3e0d7,0x3f187,0x3ff97,0x3fffb,0x3ffff,0x3ffff},
  {0x3ffff,0x3ffff,0x3f80f,0x3f067,0x3e027,0x3f807,0x3f8ef,0x3f1ef,0x3f3ef,0x3f11f,0x3f61f,0x3fe1f,0x30e1b,0x3e007,0x3c0d7,0x3fb87,0x3ff97,0x3fffb,0x3ffff,0x3ffff},
  {0x3ffff,0x3ffff,0x3f83f,0x3c09f,0x3809f,0x3e01f,0x3e3bf,0x3c7bf,0x3cfbf,0x3c43f,0x3d87f,0x3d87f,0x39877,0x3000f,0x383af,0x3cf0f,0x3ff2f,0x3fff7,0x3ffff,0x3ffff},
};

word* framesPointer[20];
BitmapAnimation animation = BitmapAnimation(framesPointer, 10, 6);

void setup() {
  Serial.begin(9600);
  gb.initialize();

  for (size_t i = 0; i < 10; ++i) {
    framesPointer[i] = frames_cow[i];
  }
}

void loop() {
  gb.update();
  gb.display.clear();
  gb.display.drawCurrentFrame(animation);
  
  gb.display.setCursor(0, 0);
  gb.display.write("Jump");
  gb.display.setCursor(0, 1);
  gb.display.write("cow!");

  gb.display.setCursor(11, 0);
  gb.display.write("Cow");
  gb.display.setCursor(11, 1);
  gb.display.write("jump!");
  
  gb.display.flush();
  animation.nextFrame();
  delay(DELAY);
}